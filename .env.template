# Kyuubi with Delta and Iceberg - Environment Configuration Template
# Copy this file to .env and customize the values as needed

# MinIO Configuration
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin

# AWS Configuration (for S3 compatibility)
AWS_REGION=us-east-1

# Hive Metastore Configuration
HIVE_METASTORE_DB=hive_metastore
HIVE_METASTORE_USER=hive
HIVE_METASTORE_PASSWORD=hive

# Spark Configuration
SPARK_EXECUTOR_MEMORY=4g
SPARK_EXECUTOR_CORES=2
SPARK_DRIVER_MEMORY=2g
SPARK_DRIVER_CORES=1

# Kyuubi Configuration
KYUUBI_FRONTEND_BIND_HOST=0.0.0.0
KYUUBI_FRONTEND_BIND_PORT=10009
KYUUBI_AUTHENTICATION=NONE

# Port Configuration (modify if needed)
Kyuubi_PORT=10009
SPARK_UI_PORT=4040
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
POSTGRES_PORT=5432
HIVE_METASTORE_PORT=9083

# Storage Configuration
# Local warehouse directory
LOCAL_WAREHOUSE_DIR=/opt/warehouse/local

# S3/MinIO warehouse directory
S3_WAREHOUSE_DIR=s3a://kyuubi-warehouse/

# MinIO bucket name (will be created automatically)
MINIO_BUCKET=kyuubi-warehouse

# Performance Tuning
SPARK_SQL_SHUFFLE_PARTITIONS=200
SPARK_DYNAMIC_ALLOCATION_ENABLED=true
SPARK_DYNAMIC_ALLOCATION_MIN_EXECUTORS=1
SPARK_DYNAMIC_ALLOCATION_MAX_EXECUTORS=4
SPARK_DYNAMIC_ALLOCATION_INITIAL_EXECUTORS=2

# Logging Configuration
SPARK_EVENT_LOG_ENABLED=true
SPARK_EVENT_LOG_DIR=file:///opt/spark/events
SPARK_HISTORY_FS_LOG_DIRECTORY=file:///opt/spark/events

# Security Configuration
# Set to true if you want to enable authentication
KYUUBI_AUTHENTICATION_ENABLED=false

# Advanced Configuration
# Uncomment and modify these as needed

# Custom Spark properties
# SPARK_SQL_EXTENSIONS=io.delta.sql.DeltaSparkSessionExtension,org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions

# Custom Hadoop properties
# HADOOP_CUSTOM_PROPERTY=value

# Delta Lake specific
# DELTA_RETENTION_DURATION_CHECK_ENABLED=false

# Iceberg specific
# ICEBERG_VECTORIZATION_ENABLED=true
# ICEBERG_HANDLE_TIMESTAMP_WITHOUT_TIMEZONE=false